# Lixiang Diagnostic Trouble Codes_DTC
Отсуствие оффициального диллера китайской автомобильной компании Liauto в России и большого количества ввезенных на территорию машин, а так же остуствие легального ПО для диагностики и отстуствия желания китайских коллег в оказании помощи, сподвигло меня на написание данной программы после глобального изучения данного авто в части реализации процессов диагностики Lixiang. Программа будет полезна автосервисам, а так же пользователям данного авто.
# Интерфейс программы
![alt text](image-3.png)
# Инструкция по работе с программой "Lixiang Diagnostic Trouble Codes"

Эта программа предназначена для расшифровки полученных кодов ошибок (DTC) после проведения диагностики автомобилей Lixiang 6,7,8,9, перевода их описания на русский язык с помощью DeepSeek и удобной работы с результатами, а так же ознакомиться с названиями модулей и всегда посмотреть как называется тот или иной модуль и за что он отвечает.

# Требования

- Разархивируй файл DTC.zip на рабочий стол, должна появиться папка DTC
- Для реализации перевода текста кода ошибок на русский язык, если это необходимо, зарегистрироваться на сайте [Deepseek.com](https://platform.deepseek.com/sign_in)
- ![alt text](image.png)
- войдя в личный кабинет deepseek.com выбери в меню раздел APi keys [Личный кабинет](https://platform.deepseek.com/api_keys)
- ![alt text](image-2.png)
- создай свой ключ АPI нажав на кнопку Create new API kes, скопируй его и сохрани в надежном месте
- переводчик бесплатный но требует закинуть на счет миниму 20 юаней если првила не поменялись на сегодня
- использовать ключ можно двумя способами, создать в папке DTC файл `api_key.txt` и вставить API-ключ и сохранить, программа в таком случае не требует дополнительных действий и больше не будет запрашивать ключ повторно
- второй вариант, запустить программу, найти искомую ошибку и нажать на кнопку ChatGPT программа сам предложит ввести ключ и создаст файл `api_key.txt` в папке программы, при дальнейшем использовании ввод ключа не потребуется.

# Запуск программы

1. Перейди в папку с программой c:\Users\Имя компьютера\Desktop\DTC.
2. Запусти программу DTC_GPT.exe.
3. Появится окно программы с заголовком **"Lixiang Diagnostic Trouble Codes"**.

# Интерфейс программы

- **Поле ввода**: Вверху — строка для ввода кода ошибки (например, `P191100`).
- **Кнопки**:
- **Поиск** — найти ошибку.
- **Сброс** — очистить результаты.
- **Сохранить результаты** — сохранить в файл c выбором папки для сохранения.
- **База ошибок** — данная кнопка позволяет подгрузить свою базу данных ошибок и работать с файлами **.xlsx**.
- **Настройки вывода** — выбрать столбцы для отображения.
- **Перевод** — перевести описание ошибки.
- **Модули** - краткое обозначение модулей и их описание
- **Поле результатов**: Большая область ниже, где отображаются найденные данные и перевод.

# Работа с программой

### 1. Поиск ошибки

1. Введи код ошибки в поле ввода, например, `P191100`.
   - **Важно**: Ввод возможен только на английской раскладке.
2. Нажми кнопку **"Поиск"**.
3. В поле результатов появится информация об ошибке из файлов базы, например:
   ```
   Источник файла: LBMS_77.xlsx
   Детали:
     - DTC: P191100
     - DTCText: Power supply fault 3
     ...
   =======================================
   ```

### 2. Перевод описания

1. После поиска нажми кнопку **"ChatGPT"**.
   - Если API-ключ не задан, появится окно для его ввода. Введи ключ от DeepSeek и нажми "ОК".
2. Программа подключится к DeepSeek и переведёт описание ошибки на русский. Результат добавится в поле результатов:
   ```
   Подключение к ChatGPT... (Время: 12:34:56)
   Перевод завершён. Время выполнения: 32.10 секунд.
   =======================================
   LBMS_77.xlsx
   Лист1
   Детали:
     - DTC: P191100
     - DTCText: Неисправность питания 3
     ...
   =======================================
   ```
   - **Важно**: скорость перевода зависит от качества вашего Интернета и загрузки сервера перевода в данный момент, если возникают ошибки повторяйте смело еще раз.
3. После перевода появится окно с тремя кнопками:
   - **"ОК"**: Закрыть окно, ничего не делать (результат остаётся в программе).
   - **"Открыть"**: Сохранить результат в файл (например, `P191100_2025-03-17.txt`) рядом с программой и открыть его в текстовом редакторе
   - **"Копировать"**: Сохранить результат в файл и скопировать сам файл в буфер обмена для вставки (например, в Telegram).

### 3. Сохранение результатов

1. Нажми кнопку **"Сохранить результаты"**.
2. В диалоге выбери имя файла (по умолчанию предлагается `<код_ошибки>_<дата>.txt`, например, `P191100_2025-03-17.txt`) и папку.
3. Нажми "Сохранить". Весь текст из поля результатов сохранится в файл.

### 4. Дополнительные функции

- **"Сброс"**: Очищает поле ввода и результаты.
- **"Выбрать папку"**: Укажи другую папку с файлами дуругой базы данных кодов ошибок в формате `.xlsx`, если нужно.
- **"Настройки вывода"**: Выбери, какие столбцы из файлов отображать в результатах (если файлов нет, появится предупреждение).

# Полезные советы

- API-ключ сохраняется в `api_key.txt` после первого ввода — повторно вводить не придётся.
- Для отправки файла в Telegram: после нажатия "Копировать" вставь файл в чат (Ctrl+V) — он отправится как `P191100_2025-03-17.txt`.

# Возможные ошибки

- **"Нет результатов для сохранения"**: Выполни поиск перед сохранением.
- **"Не удалось загрузить API ключ"**: Проверь наличие файла `api_key.txt` в папке с программой DTC_GPT.exe или введи ключ заново.
- **Файл не открывается**: Убедись, что текстовый редактор установлен по умолчанию.

# Контакты

- если есть предложения по работе программы или выявлены ошибки при работе программы, обращайся в телеграм **[@svg62](https://t.me/svg62) Владимир**

